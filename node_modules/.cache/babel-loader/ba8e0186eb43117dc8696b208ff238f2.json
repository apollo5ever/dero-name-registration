{"ast":null,"code":"var _jsxFileName = \"/home/josho/Dero/dero-name-registration/src/App.js\",\n    _s = $RefreshSig$();\n\nimport DeroBridgeApi from './api.js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport to from 'await-to-js';\nimport './app.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [availability, setAvailability] = React.useState('');\n  const deroBridgeApiRef = React.useRef();\n  const [bridgeInitText, setBridgeInitText] = React.useState('Not connected to extension');\n  React.useEffect(() => {\n    const load = async () => {\n      deroBridgeApiRef.current = new DeroBridgeApi();\n      const deroBridgeApi = deroBridgeApiRef.current;\n      const [err] = await to(deroBridgeApi.init());\n\n      if (err) {\n        setBridgeInitText('failed to connect to extension');\n      } else {\n        setBridgeInitText('connected to extension');\n      }\n    };\n\n    window.addEventListener('load', load);\n    return () => window.removeEventListener('load', load);\n  }, []); //------------------CEO Functions ---------------------------------\n\n  const register = React.useCallback(async event => {\n    event.preventDefault();\n    const deroBridgeApi = deroBridgeApiRef.current;\n    const [err, res] = await to(deroBridgeApi.wallet('start-transfer', {\n      \"scid\": \"0000000000000000000000000000000000000000000000000000000000000001\",\n      \"ringsize\": 2,\n      \"sc_rpc\": [{\n        \"name\": \"entrypoint\",\n        \"datatype\": \"S\",\n        \"value\": \"Register\"\n      }, {\n        \"name\": \"name\",\n        \"datatype\": \"S\",\n        \"value\": event.target.name.value\n      }]\n    }));\n    console.log(err);\n    console.log(res);\n  }, []); //--------------------DAEMON FUNCTIONS----------------------------------\n\n  const checkName = React.useCallback(async event => {\n    event.preventDefault();\n    const deroBridgeApi = deroBridgeApiRef.current;\n    const [err, res] = await to(deroBridgeApi.daemon('get-sc', {\n      scid: \"0000000000000000000000000000000000000000000000000000000000000001\",\n      code: false,\n      variables: true\n    }));\n    /* let test= `data`\n    let voteStatus=res */\n\n    let name = event.target.name.value; //let search = \"vote_\" +index+\"_type\"\n\n    let result = res.data.result.stringkeys[name];\n    console.log(err);\n    console.log(res);\n    console.log(result);\n\n    if (result) {\n      setAvailability(\"Shucks, this name is unavailable\");\n    } else {\n      setAvailability(\"This name is available!\");\n    }\n  }, []); //----------------------------USER INTERFACE-----------------------------------------------------------------------------------\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: bridgeInitText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Name Registration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Check for availability and register your DERO name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Remember names must be 6 characters or longer. This website will tell you \\\"moon\\\" is available but that's a lie. It's not enough characters.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Names are CASE-sensitive. \\\"Apollo\\\" is not the same as \\\"apollo\\\". Numbers, spaces, special characters, and emojis are allowed.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n      href: \"https://chrome.google.com/webstore/detail/dero-rpc-bridge/nmofcfcaegdplgbjnadipebgfbodplpd\",\n      children: \"Oh and you'll need to download this extension\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"function-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"function\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Check Availability\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: checkName,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"name\",\n            id: \"name\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Check Availability\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 5\n        }, this), availability]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"function\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Register Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: register,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            placeholder: \"name\",\n            id: \"name\",\n            type: \"text\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n      children: /*#__PURE__*/_jsxDEV(\"small\", {\n        children: \"Support by sending dero to \\\"apollo\\\"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 1\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 10\n  }, this);\n};\n\n_s(App, \"ayO/dZVhvRuzG6WIzf58L9bG0qI=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["DeroBridgeApi","React","ReactDOM","to","App","availability","setAvailability","useState","deroBridgeApiRef","useRef","bridgeInitText","setBridgeInitText","useEffect","load","current","deroBridgeApi","err","init","window","addEventListener","removeEventListener","register","useCallback","event","preventDefault","res","wallet","target","name","value","console","log","checkName","daemon","scid","code","variables","result","data","stringkeys"],"sources":["/home/josho/Dero/dero-name-registration/src/App.js"],"sourcesContent":["\n\nimport DeroBridgeApi from './api.js'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport to from 'await-to-js'\nimport './app.css'\n\nconst App = () => {\n\n  \n  const [availability, setAvailability] = React.useState('')\n  const deroBridgeApiRef = React.useRef()\n  const [bridgeInitText, setBridgeInitText] = React.useState('Not connected to extension')\n\n  React.useEffect(() => {\n    const load = async () => {\n      deroBridgeApiRef.current = new DeroBridgeApi()\n      const deroBridgeApi = deroBridgeApiRef.current\n      const [err] = await to(deroBridgeApi.init())\n      if (err) {\n        setBridgeInitText('failed to connect to extension')\n      } else {\n        setBridgeInitText('connected to extension')\n      }\n    }\n\n    window.addEventListener('load', load)\n    return () => window.removeEventListener('load', load)\n  }, [])\n\n\n  //------------------CEO Functions ---------------------------------\n \n \n  const register = React.useCallback(async (event) => {\n    event.preventDefault();\n    const deroBridgeApi = deroBridgeApiRef.current\n    const [err, res] = await to(deroBridgeApi.wallet('start-transfer', {\n    \t\"scid\": \"0000000000000000000000000000000000000000000000000000000000000001\",\n    \t\"ringsize\": 2,\n    \t\"sc_rpc\": [{\n    \t\t\"name\": \"entrypoint\",\n    \t\t\"datatype\": \"S\",\n    \t\t\"value\": \"Register\"\n    \t},\n    \t{\n    \t\t\"name\": \"name\",\n    \t\t\"datatype\": \"S\",\n    \t\t\"value\": event.target.name.value\n    \t}]\n    }))\n\n    console.log(err)\n    console.log(res)\n  }, [])\n\n \n\n  //--------------------DAEMON FUNCTIONS----------------------------------\n  \n\n\n\n  const checkName = React.useCallback(async (event) => {\n    event.preventDefault();\n   const deroBridgeApi = deroBridgeApiRef.current\n   const [err, res] = await to(deroBridgeApi.daemon('get-sc', {\n           scid:\"0000000000000000000000000000000000000000000000000000000000000001\",\n           code:false,\n           variables:true\n   }))\n   /* let test= `data`\n   let voteStatus=res */\n   let name = event.target.name.value\n\n   //let search = \"vote_\" +index+\"_type\"\n   let result=res.data.result.stringkeys[name]\n\n  \n\n   console.log(err)\n   console.log(res)\n   console.log(result)\n   if(result){\n     setAvailability(\"Shucks, this name is unavailable\");\n   }else{\n     setAvailability(\"This name is available!\")\n   }\n   \n\n   \n }, []) \n\n \n  \n//----------------------------USER INTERFACE-----------------------------------------------------------------------------------\n\n\n  return <div>\n    \n    <div>{bridgeInitText}</div>\n    <h1>Name Registration</h1>\n            <p>Check for availability and register your DERO name</p>\n            <p>Remember names must be 6 characters or longer. This website will tell you \"moon\" is available but that's a lie. It's not enough characters.</p>\n            <p>Names are CASE-sensitive. \"Apollo\" is not the same as \"apollo\". Numbers, spaces, special characters, and emojis are allowed.</p>\n            <a href=\"https://chrome.google.com/webstore/detail/dero-rpc-bridge/nmofcfcaegdplgbjnadipebgfbodplpd\">Oh and you'll need to download this extension</a>\n            \n            \n            \n            <div className=\"function-container\">\n\n            <div className=\"function\">\n    <h3>Check Availability</h3>\n    \n    <form onSubmit={checkName}>\n      <input placeholder=\"name\" id=\"name\" type=\"text\"/>\n      <button type={\"submit\"}>Check Availability</button>\n    </form>\n    {availability}\n    </div>\n\n\n    <div className=\"function\">\n      <h3>Register Name</h3>\n  <form onSubmit={register}>\n    <input placeholder=\"name\" id=\"name\" type=\"text\" />\n    <button type={\"submit\"}>Register</button>\n  </form>\n  \n    \n    </div>\n    </div>\n\n    \n\n\n<footer><small>Support by sending dero to \"apollo\"</small></footer>\n  </div>\n    \n    \n   \n  \n}\n\n\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}