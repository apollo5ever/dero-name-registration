{"ast":null,"code":"var _jsxFileName = \"/home/josho/Dero/dero-name-registration/src/App.js\",\n    _s = $RefreshSig$();\n\nimport DeroBridgeApi from './api.js';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport to from 'await-to-js';\nimport './app.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const deroBridgeApiRef = React.useRef();\n  const [bridgeInitText, setBridgeInitText] = React.useState('Not connected to extension');\n  React.useEffect(() => {\n    const load = async () => {\n      deroBridgeApiRef.current = new DeroBridgeApi();\n      const deroBridgeApi = deroBridgeApiRef.current;\n      const [err] = await to(deroBridgeApi.init());\n\n      if (err) {\n        setBridgeInitText('failed to connect to extension');\n      } else {\n        setBridgeInitText('connected to extension');\n      }\n    };\n\n    window.addEventListener('load', load);\n    return () => window.removeEventListener('load', load);\n  }, []); //------------------CEO Functions ---------------------------------\n\n  const register = React.useCallback(async event => {\n    event.preventDefault();\n    const deroBridgeApi = deroBridgeApiRef.current;\n    const [err, res] = await to(deroBridgeApi.wallet('start-transfer', {\n      \"scid\": \"0000000000000000000000000000000000000000000000000000000000000001\",\n      \"ringsize\": 2,\n      \"sc_rpc\": [{\n        \"name\": \"entrypoint\",\n        \"datatype\": \"S\",\n        \"value\": \"Register\"\n      }, {\n        \"name\": \"name\",\n        \"datatype\": \"S\",\n        \"value\": event.target.name.value\n      }]\n    }));\n    console.log(err);\n    console.log(res);\n  }, []); //--------------------DAEMON FUNCTIONS----------------------------------\n\n  const checkName = React.useCallback(async event => {\n    event.preventDefault();\n    const deroBridgeApi = deroBridgeApiRef.current;\n    const [err, res] = await to(deroBridgeApi.daemon('get-sc', {\n      scid: \"0000000000000000000000000000000000000000000000000000000000000001\",\n      code: false,\n      variables: true\n    }));\n    /* let test= `data`\n    let voteStatus=res */\n\n    let name = event.target.name.value; //let search = \"vote_\" +index+\"_type\"\n\n    let result = res.data.result.stringkeys[name];\n    console.log(err);\n    console.log(res);\n    console.log(result);\n  }, []); //----------------------------USER INTERFACE-----------------------------------------------------------------------------------\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: bridgeInitText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Name Registration\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Check for availability and register your DERO name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Check Availability \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"function\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: checkName,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"name\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Check Availability\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Register Name \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 1\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"function\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: register,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"name\",\n          type: \"text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 5\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 3\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 10\n  }, this);\n};\n\n_s(App, \"m+af1fwWO6SHkNWqY+emh9NRgHo=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["DeroBridgeApi","React","ReactDOM","to","App","deroBridgeApiRef","useRef","bridgeInitText","setBridgeInitText","useState","useEffect","load","current","deroBridgeApi","err","init","window","addEventListener","removeEventListener","register","useCallback","event","preventDefault","res","wallet","target","name","value","console","log","checkName","daemon","scid","code","variables","result","data","stringkeys"],"sources":["/home/josho/Dero/dero-name-registration/src/App.js"],"sourcesContent":["\n\nimport DeroBridgeApi from './api.js'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport to from 'await-to-js'\nimport './app.css'\n\nconst App = () => {\n\n  \n  \n\n  const deroBridgeApiRef = React.useRef()\n  const [bridgeInitText, setBridgeInitText] = React.useState('Not connected to extension')\n\n  React.useEffect(() => {\n    const load = async () => {\n      deroBridgeApiRef.current = new DeroBridgeApi()\n      const deroBridgeApi = deroBridgeApiRef.current\n      const [err] = await to(deroBridgeApi.init())\n      if (err) {\n        setBridgeInitText('failed to connect to extension')\n      } else {\n        setBridgeInitText('connected to extension')\n      }\n    }\n\n    window.addEventListener('load', load)\n    return () => window.removeEventListener('load', load)\n  }, [])\n\n\n  //------------------CEO Functions ---------------------------------\n \n \n  const register = React.useCallback(async (event) => {\n    event.preventDefault();\n    const deroBridgeApi = deroBridgeApiRef.current\n    const [err, res] = await to(deroBridgeApi.wallet('start-transfer', {\n    \t\"scid\": \"0000000000000000000000000000000000000000000000000000000000000001\",\n    \t\"ringsize\": 2,\n    \t\"sc_rpc\": [{\n    \t\t\"name\": \"entrypoint\",\n    \t\t\"datatype\": \"S\",\n    \t\t\"value\": \"Register\"\n    \t},\n    \t{\n    \t\t\"name\": \"name\",\n    \t\t\"datatype\": \"S\",\n    \t\t\"value\": event.target.name.value\n    \t}]\n    }))\n\n    console.log(err)\n    console.log(res)\n  }, [])\n\n \n\n  //--------------------DAEMON FUNCTIONS----------------------------------\n  \n\n\n\n  const checkName = React.useCallback(async (event) => {\n    event.preventDefault();\n   const deroBridgeApi = deroBridgeApiRef.current\n   const [err, res] = await to(deroBridgeApi.daemon('get-sc', {\n           scid:\"0000000000000000000000000000000000000000000000000000000000000001\",\n           code:false,\n           variables:true\n   }))\n   /* let test= `data`\n   let voteStatus=res */\n   let name = event.target.name.value\n\n   //let search = \"vote_\" +index+\"_type\"\n   let result=res.data.result.stringkeys[name]\n\n  \n\n   console.log(err)\n   console.log(res)\n   console.log(result)\n   \n\n   \n }, []) \n\n \n  \n//----------------------------USER INTERFACE-----------------------------------------------------------------------------------\n\n\n  return <div>\n    \n    <div>{bridgeInitText}</div>\n    <h1>Name Registration</h1>\n            <p>Check for availability and register your DERO name</p>\n            \n            \n            <h1> Check Availability </h1>\n\n            <div className=\"function\">\n    \n    \n    <form onSubmit={checkName}>\n      <p>Name</p>\n      <input id=\"name\" type=\"text\"/>\n      <button type={\"submit\"}>Check Availability</button>\n    </form>\n    </div>\n\n<h1> Register Name </h1>\n    <div className=\"function\">\n    \n  <form onSubmit={register}>\n    <p>Name</p>\n    <input id=\"name\" type=\"text\" />\n    <button type={\"submit\"}>Register</button>\n  </form>\n    \n    </div>\n\n    \n\n  </div>\n    \n    \n   \n  \n}\n\n\n\nexport default App;"],"mappings":"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"},"metadata":{},"sourceType":"module"}